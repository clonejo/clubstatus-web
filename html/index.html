<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Hackerspace Status</title>
        <script src="js/jquery.js"></script>
        <script src="js/moment.js"></script>
        <script src="js/script.js"></script>
        <meta name="viewport" content="width=720" />
        <link rel="stylesheet" type="text/css" href="style.css" />
        <link rel="stylesheet" type="text/css" href="style-responsive.css" />
        <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
    </head>
    <body>
        <div class="wrapper wrapper-top">
            <div id="header">
                <h1>Space Status</h1>
                <i id="loading" class="fa fa-spinner fa-2x fa-spin"></i>
                <div class="box" style="display: inline-block">
                    username: <input id="username" type="text" placeholder="Hans Acker"
                                                               size="15" minlength="1" maxlength="15"/>
                </div>
            </div>
            <div id="status_box" class="box loading">
                <div class="columns">
                    <div id="current_status"></div>
                    <table id="current_status_details">
                        <tr>
                            <th>since:</th>
                            <td id="current_status_changed"></td>
                        </tr>
                        <tr>
                            <th>last update:</th>
                            <td id="current_status_updated"></td></tr>
                        <tr>
                            <th>currently present:</th>
                            <td id="current_presence"></td>
                        </tr>
                    </table>
                </div>
                <div id="current_status_note_row" class="columns">
                    <span class="label">note:</span>
                    <div id="current_status_note" class="column grow"></div>
                </div>
            </div>

            <div id="status_change_box" class="box loading">
                <div class="columns">
                    <div class="column label">change status:</div>
                    <div id="status_change_buttons" class="column grow">
                        <input id="status_change_public"  type="submit" value="public" />
                        <input id="status_change_private" type="submit" value="private" />
                        <input id="status_change_closed"  type="submit" value="closed" />
                    </div>
                </div>

                <div class="columns">
                    <div class="column label">note:</div>
                    <div class="column grow">
                        <input id="status_change_note" type="text" placeholder="Will start preparing a meal soon-ish …" maxlength="80" />
                    </div>
                    <div class="column">
                        <input id="status_change_note_clear" type="submit" value="x" />
                    </div>
                </div>
            </div>

            <div id="announcement_box" class="box loading">
                <div style="display: flex; justify-content: space-between;">
                    <h2>Announcements</h2>
                    <a href="api/v0/announcement/current.ics">ics</a>
                </div>
                <table id="announcements" class="monospace">
                    <thead>
                        <tr>
                            <th>From</th>
                            <th>To</th>
                            <th>User</th>
                            <th>Note</th>
                            <th>Public</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="announcement_modify_box" class="box" hidden>
                <div class="columns">
                    <input id="announcement_modify_aid" type="hidden" />
                    <div class="column label" style="white-space: nowrap;">change announcement:</div>
                    <div class="column">from:</div>
                    <div class="column">
                        <input id="announcement_modify_from" type="text" />
                    </div>
                    <div class="column">to:</div>
                    <div class="column">
                        <input id="announcement_modify_to"   type="text" />
                    </div>
                </div>
                <div class="columns">
                    <div class="column">note:</div>
                    <input id="announcement_modify_note" type="text" maxlength="80"
                           placeholder="Plenum / Talk / Food / Party / 'I'll be there' / …" />
                    <div class="column">
                        <label ><input id="announcement_modify_public" type="checkbox" />public</label>
                    </div>
                    <input id="announcement_modify_submit" type="submit" value="update" />
                    <input id="announcement_modify_cancel" type="submit" value="cancel" />
                </div>
            </div>

            <div id="announcement_add_box" class="box">
                <div class="columns">
                    <div class="column label" style="white-space: nowrap;">new announcement:</div>
                    <div class="column">from:</div>
                    <div class="column">
                        <input id="announcement_add_from" type="text" />
                    </div>
                    <div class="column">to:</div>
                    <div class="column">
                        <input id="announcement_add_to"   type="text" />
                    </div>
                </div>
                <div class="columns">
                    <div class="column">note:</div>
                    <input id="announcement_add_note" type="text" maxlength="80"
                           placeholder="Plenum / Talk / Food / Party / 'I'll be there' / …" />
                    <div class="column">
                        <label ><input id="announcement_add_public" type="checkbox" />public</label>
                    </div>
                    <input id="announcement_add_submit" type="submit" value="add" />
                </div>
            </div>
        </div>

        <div class="wrapper">
            <div id="log_box" class="box loading">
                <h2>Log</h2>
                <table id="log" class="monospace">
                    <thead>
                        <tr><th>#</th><th>Time</th><th>Status</th><th>User</th><th>Note</th>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="row">
                <div class="box dont_grow">
                    <label>
                        <input id="refresh_on_tab_visible" type="checkbox" />
                        refresh when you switch back to this tab
                    </label>
                </div>
                <div class="box dont_grow">
                    <label><input id="auto_refresh" type="checkbox" />auto refresh every 5min</label>
                </div>
                <div class="box dont_grow button" id="fullscreen">
                    <i class="fa fa-arrows-alt fa-2x"></i>
                </div>
            </div>
        </div>
    </body>
</html>
